(()=>{"use strict";function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(r=o.key,c=void 0,c=function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===_typeof(c)?c:String(c)),o)}var r,c}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var e=_createClass((function WeatherReq(e){var t,n,o,r;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WeatherReq),this.name=e.location.name,this.localTime=e.location.localtime,this.temp=e.current.temp_c,this.text=e.current.condition.text,this.wind=e.current.wind_kph,this.humidity=e.current.humidity,this.cloud=e.current.cloud,this.maxTemp=null!==(n=null===(t=e.forecast)||void 0===t?void 0:t.forecastday[0].day.maxtemp_c)&&void 0!==n?n:0,this.minTemp=null!==(r=null===(o=e.forecast)||void 0===o?void 0:o.forecastday[0].day.mintemp_c)&&void 0!==r?r:0})),t={baseUrl:"http://api.weatherapi.com/v1",headers:{authorization:"636d223848964bdaae6193620241506","Content-Type":"application/json"}},n=function getWeatherInfo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Москва";return fetch("".concat(t.baseUrl,"/forecast.json?key=").concat("636d223848964bdaae6193620241506","&q=").concat(e,"&lang=ru"),{method:"GET",headers:t.headers}).then((function(e){return function checkResponse(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}(e)}))},o=document.querySelector(".weather__display-header"),r=document.querySelector(".weather__display-degrees"),c=document.querySelector(".weather__display-description"),i=document.querySelector(".weather__detail-condition"),a=document.querySelector(".max-temp"),u=document.querySelector(".min-temp"),l=document.querySelector(".humidity"),d=document.querySelector(".cloudy"),m=document.querySelector(".wind"),s=function render(e){var t=document.querySelector(".weather__details");t.classList.remove("animate"),setTimeout((function(){t.classList.add("animate")}),10),o.textContent=e.name,r.textContent="".concat(Math.round(e.temp),"°"),c.textContent="".concat(e.localTime),i.textContent=e.text,a.textContent="".concat(Math.round(e.maxTemp),"°"),u.textContent="".concat(Math.round(e.minTemp),"°"),l.textContent="".concat(e.humidity,"%"),d.textContent="".concat(e.cloud,"%"),m.textContent="".concat(Math.round(e.wind),"км/ч")},f=document.querySelector(".header__form");n().then((function(t){var n=new e(t);s(n)})).catch((function(e){return console.error(e)})),f.addEventListener("submit",(function(t){t.preventDefault();var o=document.querySelector("#header__form-input");if(o){var r=o.value;n(r).then((function(t){var n=new e(t);o.value="",s(n)})).catch((function(e){return console.error(e)}))}else console.error("Input element not found")}))})();
//# sourceMappingURL=main.js.map